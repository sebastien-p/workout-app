<ion-header>
  <ion-navbar>
    <ion-buttons start>
      <button
        ion-button
        type="button"
        (tap)="dismiss()">
        Close
      </button>
    </ion-buttons>
    <ion-title>Workout</ion-title>
    <ion-buttons end>
      <button
        ion-button
        type="button"
        [disabled]="!canSave">
        Save
      </button>
    </ion-buttons>
  </ion-navbar>
  <app-set
    compact
    *ngIf="!isFirstSet"
    [set]="previous">
  </app-set>
</ion-header>

<ion-content>
  <ng-template #empty>
    <app-empty>Consider adding sets to this workout...</app-empty>
  </ng-template>

  <ion-list
    no-lines
    text-wrap
    *ngIf="hasSet; else empty">
    <ion-item>
      <h1>Set {{ setNumber }} - Serie {{ serieNumber }}</h1>
      <p>Last time: TODO repetition(s)</p>
    </ion-item>
    <ion-item>
      <app-workout [workout]="item"></app-workout>
    </ion-item>
    <ion-item>
      <app-set [set]="current"></app-set>
    </ion-item>
    <ion-item>
      <app-exercise [exercise]="current.exercise"></app-exercise>
    </ion-item>
  </ion-list>
</ion-content>

<ion-footer>
  <app-set
    compact
    *ngIf="!isLastSet"
    [set]="next">
  </app-set>
  <app-countdown
    [pauseable]="this.pauseable"
    (onEnd)="this.showNext()">
    <button
      ion-button
      icon-only
      type="button"
      [disabled]="isStart"
      (tap)="showPrevious()">
      <ion-icon name="rewind"></ion-icon>
    </button>
    <button
      ion-button
      icon-only
      type="button"
      [disabled]="isEnd"
      (tap)="showNext()">
      <ion-icon name="fastforward"></ion-icon>
    </button>
  </app-countdown>
</ion-footer>
