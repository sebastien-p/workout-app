<ion-header>
  <ion-navbar>
    <ion-buttons start>
      <button
        ion-button
        type="button"
        (tap)="dismiss()">
        Close
      </button>
    </ion-buttons>
    <ion-title>Workout</ion-title>
    <ion-buttons end>
      <button
        ion-button
        icon-only
        type="button"
        [disabled]="isStart"
        (tap)="showPrevious()">
        <ion-icon name="rewind"></ion-icon>
      </button>
      <button
        ion-button
        icon-only
        type="button"
        [disabled]="isEnd"
        (tap)="showNext()">
        <ion-icon name="fastforward"></ion-icon>
      </button>
    </ion-buttons>
  </ion-navbar>
  <app-set
    compact
    *ngIf="!isFirstSet"
    [set]="previous">
    Prev:
  </app-set>
</ion-header>

<ion-content
  padding
  [ngSwitch]="hasSet">
  <app-empty *ngSwitchCase="false"></app-empty>
  <ng-container *ngSwitchDefault>
    <h1>Set {{ setNumber }} - Serie {{ serieNumber }}</h1>
    <app-set-stats
      *ngIf="shouldRecord"
      [thisTime]="thisTime"
      [lastTime]="lastTime">
    </app-set-stats>
    <app-workout [workout]="item"></app-workout>
    <app-set [set]="current"></app-set>
    <app-exercise [exercise]="exercise"></app-exercise>
  </ng-container>
</ion-content>

<ion-footer>
  <app-countdown
    *ngIf="hasSet"
    [rest]="rest"
    (onStart)="promptValue()"
    (onEnd)="showNext()">
  </app-countdown>
  <app-set
    compact
    *ngIf="!isLastSet"
    [set]="next">
    Next:
  </app-set>
</ion-footer>
